[![WeDuck official website](https://img.shields.io/badge/%E7%A5%9E%E7%A7%98%E9%B8%AD-%E5%AE%98%E6%96%B9%E7%BD%91%E7%AB%99-pink?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iNjY2LjY2NyIgaGVpZ2h0PSI2NjYuNjY3IiB2aWV3Qm94PSIwIDAgNjY2LjY2NyA2NjYuNjY3IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMzA3LjMzMyA2MjAuNDI3Yy05Mi4zNDItNS45OC0xOTAuNTMyLTQyLjgyMS0yNDIuMTEtMTIzLjg1OC0zMi43MTgtNTMuMjUtMjIuNzEzLTEyNS4zNzQgMTcuNzA5LTE3MS43NDQgMzQuMTI3LTUyLjUzOCA1MC4xMzMtMTE1Ljk2NSA5My44MzYtMTYyLjQ0MiAyNC44NTMtMjguOTggNTUuODItNTIuODE3IDkwLjU2NS02OC43MjgtNy40MTctMjYuNzEgMjUuMzU1LTY4LjQ4NSAzOC44NDMtMjIuNDI0IDYuMzYtMTcuOTggMjMuOTkxLTUwLjQ1NCAzNy40MjEtMTEuOTYzIDIyLjYyIDMzLjkyNSA3MS4xNDMgMjcuNzQyIDk4LjU2MyA1MC42NDIgNzQuODg4IDU5LjM3NSAxMTMuMjgyIDEzMS4xODQgMTQxLjk3NyAyMDcuMTcgMTUuOTczIDI0LjM0IDM4LjMgNDUuNTcxIDQxLjU4NyA3Ni4xMzMgMTIuMTUxIDUzLjM4NS0xMC40MyAxMDkuMzU5LTUwLjcyMiAxNDQuOTY2LTcwLjYyIDY2LjgyNi0xNzMuMjI3IDg3Ljc0Ni0yNjcuNjY5IDgyLjI0OHoiIGZpbGw9IiNmMzhlNjkiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC00KSIgZmlsbD0iI2YzYTA2ZiI%2BPGVsbGlwc2UgY3g9IjE5My4yNiIgY3k9IjQyNy40MjgiIHJ4PSIyNy4yMDMiIHJ5PSIxNS40MjgiLz48ZWxsaXBzZSBjeD0iNDc4Ljk3OCIgY3k9IjQyNy40MjgiIHJ4PSIyNy4yMDMiIHJ5PSIxNS40MjgiLz48L2c%2BPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNDg4OSAwIDAgMS4wNDg4OSAtMTUuMTY1IC0xNy4zMzMpIj48Y2lyY2xlIGlkPSJhIiBjeD0iMjA3LjkyNiIgY3k9IjM5NS40NTUiIHI9IjIwLjQ1NSIvPjx1c2UgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1MS42OTUpIi8%2BPC9nPjxlbGxpcHNlIGN4PSIzMzIuODgzIiBjeT0iNDkyLjA5IiByeD0iODcuNzA3IiByeT0iNjcuODk3IiBmaWxsPSIjZjFiYTc2Ii8%2BPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuNDM1IC00LjcxMykiPjxwYXRoIGQ9Ik0yNzkuNjI3IDQyNy4xOTJjLTguMzgyIDguNDU1LTEyLjY2MSAxNS4zMzUtMzEuMDA2IDI4LjQyMy00Mi44IDMwLjUzNC00MS40MjggNTguMTE2LTQxLjA1NCA2MS4xNS4zNzUgMy4wMzQgMS45MzYgMTAuMjM1IDcuNDY1IDEwLjIzNUgzMzVWMzk1LjljLTMwLjQ0Ni41OC01MC44NTQgMjYuNzM1LTU1LjM3MyAzMS4yOTJ6bTM3LjQ0OCAzNS43NDNjLTMwLjQ0Ny41OC01MC44NTQgMjYuNzM2LTU1LjM3MyAzMS4yOTN6IiBpZD0iYiIgZmlsbD0iI2YwZDg4MCIvPjx1c2UgeGxpbms6aHJlZj0iI2IiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDY2OS45MDEgMCkiLz48L2c%2BPC9zdmc%2B)](https://wequ.net/) [![GitHub releases](https://img.shields.io/github/downloads/wequgroup/WeDuckPortable/total?logo=github)](https://github.com/wequgroup/WeDuckPortable/releases/) [![Gitee releases](https://img.shields.io/badge/Gitee-downloads-gray?logo=gitee&labelColor=%23C71D23)](https://gitee.com/zhider/weduck-portable-mirror/releases)


[Gitee 镜像仓库（中国用户点这里以加速下载）](https://gitee.com/zhider/weduck-portable-mirror)

# 神秘鸭 Rust Cli 客户端

使用 Rust 写出的神秘鸭客户端，多平台支持，以命令行方式运行。

## 特点

 - 运行快：Rust 语言作为编译型语言，运行速度要高于解释型语言。
 - 省资源：运行内存占用约 3MB，适合在一些小型设备上运行。（但设备可能也没那么小型）
 - 少依赖：二进制文件直接运行，不需要环境前置，可以便携运行。
 - 可自定义运行器：更自然和方便的命令运行方式，并异步等待命令结束，返回命令结果。

## 运行

你可以在终端（ cmd 、bash 等）中运行这个程序。
对于 Windows 用户来说，可以用类似于下面的 bat 运行程序。

```bat
@echo off

rem 假设你将文件放在 D 盘根目录
cd /d D:\

rem 假设客户端文件名叫 wqy-weduck-portable-rs_win64.exe
rem 假设你的设备 id 是 12345678，你的设备密码是 123456
rem 在实际使用时，请将该文本替换成实际的 ID 和密码

weduck-portable-rs_win64.exe -i 12345678 -p 123456 -l info
```

## 运行帮助

```
weduck-portable-rs 0.1.3
Command line version of weduck client implemented by Rust

USAGE:
    weduck-portable-rs.exe [OPTIONS] --id <device-id> --password <device-password>

FLAGS:
    -h, --help
            Prints help information

    -V, --version
            Prints version information


OPTIONS:
    -i, --id <device-id>
            设备 id, 比如 12345678

    -p, --password <device-password>
            设备密码, 比如 123456

    -l, --log-level <log-level>
            env_logger 日志级别，举例：[Error|Info|Debug]
            将设置你的环境变量 "RUST_LOG" 为该值。
            当然，你也可以自行设置环境变量。
            
    -r, --max-retry <max-retry-times>
            最大连接失败重试次数 [默认: 5]

    -e, --shell-executor <shell-executor>
            用户自定义命令运行器

            比如，对 Windows 系统来说，默认的运行器等同于输入 -e "cmd /c".
            对 Unix 系统来说，等同于 -e "bash -c"。
            举例：如果你想用 Powershell 7 运行，可以输入 -e "pwsh -Command"

            但对于更复杂的指令，更推荐直接以文件方式运行脚本。
            比如，在后台设置命令为 "pwsh -File C:\example.ps1"，而不设置 -e 参数。
            
            输入的 -e "文本" 将以空白符分割，第一项为可执行文件，其余项以及下发的命令都将直接作为参数输入。

```

